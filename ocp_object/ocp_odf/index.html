<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-ocp_object/ocp_odf">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Install OADP &amp; ODF | RedHat OpenShift on Nutanix Lab</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/ocp-saurus2/ocp_object/ocp_odf"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Install OADP &amp; ODF | RedHat OpenShift on Nutanix Lab"><meta data-rh="true" name="description" content="OADP enables backup, restore, and disaster recovery of applications on an OpenShift cluster. Data that can be protected with OADP include Kubernetes resource objects, persistent volumes, and internal images. The OpenShift API for Data Protection (OADP) is designed to protect Application Workloads on a single OpenShift cluster."><meta data-rh="true" property="og:description" content="OADP enables backup, restore, and disaster recovery of applications on an OpenShift cluster. Data that can be protected with OADP include Kubernetes resource objects, persistent volumes, and internal images. The OpenShift API for Data Protection (OADP) is designed to protect Application Workloads on a single OpenShift cluster."><link data-rh="true" rel="icon" href="/ocp-saurus2/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/ocp-saurus2/ocp_object/ocp_odf"><link data-rh="true" rel="alternate" href="https://github.com/ocp-saurus2/ocp_object/ocp_odf" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/ocp-saurus2/ocp_object/ocp_odf" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/ocp-saurus2/blog/rss.xml" title="RedHat OpenShift on Nutanix Lab RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/ocp-saurus2/blog/atom.xml" title="RedHat OpenShift on Nutanix Lab Atom Feed"><link rel="stylesheet" href="/ocp-saurus2/assets/css/styles.1a93153e.css">
<link rel="preload" href="/ocp-saurus2/assets/js/runtime~main.0592d11b.js" as="script">
<link rel="preload" href="/ocp-saurus2/assets/js/main.c60559a0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ocp-saurus2/"><div class="navbar__logo"><img src="/ocp-saurus2/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/ocp-saurus2/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">OpenShift on Nutanix Lab</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ocp-saurus2/">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ocp-saurus2/ocp_upi_install/">OpenShift Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ocp-saurus2/ocp_ntnx_hci/ocp_csi">Nutanix CSI Deployment</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ocp-saurus2/ocp_project/">Create Project in OpenShift</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ocp-saurus2/ocp_ntnx_hci/ocp_sc_volume">Nutanix Volume Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ocp-saurus2/ocp_ntnx_hci/ocp_sc_files">Nutanix Files Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ocp-saurus2/ocp_ntnx_hci/ocp_csi_prometheus">Monitoring with Prometheus</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/ocp-saurus2/ocp_object/">Backup/Restore using RedHat OADP</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ocp-saurus2/ocp_object/">Create Object Bucket and Access Keys in Nutanix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ocp-saurus2/ocp_object/ocp_worker_nodes">Modify OpenShift Worker Node VM Sizing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ocp-saurus2/ocp_object/ocp_volume_snapshot">Volume Snapshot in Nutanix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ocp-saurus2/ocp_object/ocp_odf">Install OADP &amp; ODF</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ocp-saurus2/optional_labs/objects_prep">OCP Optional Lab: Workload Backup/Restore using Kasten</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ocp-saurus2/optional_labs/ocp_vms_2">OCP Optional Labs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ocp-saurus2/toolsvms/linux_tools_vm">Tools VMs</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ocp-saurus2/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Backup/Restore using RedHat OADP</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Install OADP &amp; ODF</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>OpenShift API for Data Protection (OADP) &amp; OpenShift Data Protection (ODF)</h1><p>OADP enables backup, restore, and disaster recovery of applications on an OpenShift cluster. Data that can be protected with OADP include Kubernetes resource objects, persistent volumes, and internal images. The OpenShift API for Data Protection (OADP) is designed to protect Application Workloads on a single OpenShift cluster.</p><p>Red Hat OpenShift® Data Foundation is software-defined storage for containers. Engineered as the data and storage services platform for Red Hat OpenShift, Red Hat OpenShift Data Foundation helps teams develop and deploy applications quickly and efficiently across clouds</p><p>OADP backs up and restores Kubernetes resources and internal images at the granularity of a namespace by using Velero. Nutanix CSI offers snapshot
capabilities, which can be leveraged by OADP to back up and restore persistent volumes (PVs).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pre-requisitesrequirements">Pre-requisites/Requirements<a class="hash-link" href="#pre-requisitesrequirements" title="Direct link to heading">​</a></h2><ol><li><p>The RedHat OpenShift 4.11 cluster was created either using NCM Self Service or IPI </p></li><li><p><strong>Nutanix CSI must be installed</strong></p></li><li><p><strong>Nutanix Volume deployment</strong> must be installed.  Refer to <strong>Nutanix Volume Deployment</strong> on the left
hand side of this guide.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-  Option 1 is specific for UPI installation &amp; CSI installation through NCM Self Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - Create Nutanix Volume Storage Class using RedHat OpenShift Console.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-  Option 2 is specific for IPI deployment </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - Create Volume Storage Class using Command Line.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Terminal environment must have the following commands:</p><ul><li>oc (Available in both UPI &amp; IPI installation)</li><li>git </li><li>velero</li></ul></li><li><p>Set alias to use command from cluster (preferred)</p><ul><li>alias velero=&#x27;oc -n openshift-adp exec deployment/velero -c velero -it -- ./velero&#x27;</li></ul></li><li><p>Download velero from Github Release</p></li><li><p>Your cluster meets the minimum requirement for ODF in Internal Mode deployment</p><ul><li>3 worker nodes, each with at least:<ul><li>8 logical CPU</li><li>24 GiB memory</li><li>1+ storage devices</li></ul></li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-openshift-data-foundation-odf-operator">Installing OpenShift Data Foundation (ODF) Operator<a class="hash-link" href="#installing-openshift-data-foundation-odf-operator" title="Direct link to heading">​</a></h2><ol><li><p>Open the RedHat OpenShift console in the browser.  Put in the following:</p><p><a href="https://console-openshift-console.**ocp" target="_blank" rel="noopener noreferrer">https://console-openshift-console.**ocp</a> subdomain<strong>.</strong>base domain&gt;**.</p><p><strong>Eg <a href="https://console-openshift-console.ocp1ipi.ntnxlab.local" target="_blank" rel="noopener noreferrer">https://console-openshift-console.ocp1ipi.ntnxlab.local</a></strong></p></li><li><p>Navigate to <strong>Operators</strong>.  Navigate to <strong>OperatorHub</strong></p></li><li><p>Filter by <strong>openshift data</strong>.  Click on <strong>OpenShift Data Foundation</strong></p><p><img loading="lazy" src="/ocp-saurus2/assets/images/odf-1-58849194333b2a9eb7cf212e8e307fde.png" width="894" height="490" class="img_ev3q"> </p></li><li><p>Click on <strong>Install</strong></p><p><img loading="lazy" src="/ocp-saurus2/assets/images/odf-2-41e214be900af449cbfc53d17c150fc8.png" width="903" height="515" class="img_ev3q"> </p></li><li><p>Click on <strong>Install</strong> at the bottom of the screen.</p><p><img loading="lazy" src="/ocp-saurus2/assets/images/odf-3-4ef20f976f6b9e45c0f91d86e25e1164.png" width="1434" height="601" class="img_ev3q">
<img loading="lazy" src="/ocp-saurus2/assets/images/odf-4-8962c2998f55c68d2cd03605769cf01d.png" width="1436" height="625" class="img_ev3q"> </p></li><li><p>Wait for a few minutes</p><p><img loading="lazy" src="/ocp-saurus2/assets/images/odf-5-8fc0d86282023a0ffe3e9bcfb60f0175.png" width="904" height="362" class="img_ev3q"> </p></li><li><p>Click on <strong>Create Storage System</strong></p><p><img loading="lazy" src="/ocp-saurus2/assets/images/odf-6-e3faaf24000fd295899aa4ff5bcc72d0.png" width="882" height="578" class="img_ev3q"></p></li><li><p>Fill in the following default values.  Click on <strong>Create</strong></p><p><img loading="lazy" src="/ocp-saurus2/assets/images/odf-7-9af03c0f22b9792275afddd023a21cfa.png" width="1436" height="610" class="img_ev3q">
<img loading="lazy" src="/ocp-saurus2/assets/images/odf-8-1400f0b2bd2267c88719e08607c17ebd.png" width="899" height="244" class="img_ev3q"></p></li><li><p>Storage System created successfully</p><p><img loading="lazy" src="/ocp-saurus2/assets/images/odf-9-94e6cc8da93d26eec40ef40f2e2df07a.png" width="1415" height="690" class="img_ev3q"></p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verify-odf-installation">Verify ODF installation<a class="hash-link" href="#verify-odf-installation" title="Direct link to heading">​</a></h3><ol><li><p>In the LinuxToolVM (Eg LinuxToolVM1, LinuxToolVM2 etc), run the following commands:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">KUBECONFIG</span><span class="token operator" style="color:#393A34">=~</span><span class="token plain">/openshift/auth/kubeconfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> KUBECONFIG</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oc get storagecluster -n openshift-storage ocs-storagecluster -o </span><span class="token assign-left variable" style="color:#36acaa">jsonpath</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;{.status.phase}{&quot;\n&quot;}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-openshift-api-for-data-protection-oadp-operator">Install OpenShift API for Data Protection (OADP) Operator<a class="hash-link" href="#install-openshift-api-for-data-protection-oadp-operator" title="Direct link to heading">​</a></h2><ol><li><p>Login to RedHat OpenShift Console.</p></li><li><p>Select <strong>Operators</strong>.  Select <strong>OperatorHub</strong></p></li><li><p>Filter by <strong>openshift-api</strong>.  Select <strong>OADP Operator by RedHat</strong></p><p><img loading="lazy" src="/ocp-saurus2/assets/images/oadp-14-a66f1d04ee4d228ea0fcbc25234ccb74.png" width="898" height="384" class="img_ev3q"></p></li><li><p>Click on <strong>Install</strong></p><p><img loading="lazy" src="/ocp-saurus2/assets/images/oadp-15-98b900d0d1984164c4b255de5c640a93.png" width="885" height="476" class="img_ev3q"></p></li><li><p>Fill in the following.  Click on <strong>Install</strong></p><p><img loading="lazy" src="/ocp-saurus2/assets/images/oadp-16-7796784104096d7534354b6f3a1fee5c.png" width="1453" height="639" class="img_ev3q">
<img loading="lazy" src="/ocp-saurus2/assets/images/oadp-17-69d1061b691160714a9461b7712bacdc.png" width="1431" height="616" class="img_ev3q">
<img loading="lazy" src="/ocp-saurus2/assets/images/oadp-18-23fb776660f9a8aa3350c04f891d4d3f.png" width="1435" height="429" class="img_ev3q"></p></li><li><p>Wait for a few minutes.</p><p><img loading="lazy" src="/ocp-saurus2/assets/images/oadp-19-d9637e6185f7acfb945d6d768d94270c.png" width="897" height="356" class="img_ev3q"></p></li><li><p>Click on <strong>View Operator</strong></p><p><img loading="lazy" src="/ocp-saurus2/assets/images/oadp-20-0dd0bdd27dd5babfaafb669daf6d2656.png" width="887" height="324" class="img_ev3q"></p></li><li><p>OADP Operator installed successfully</p><p><img loading="lazy" src="/ocp-saurus2/assets/images/oadp-21-2f4910779d1768e7c08fd59d9242c2f4.png" width="1444" height="695" class="img_ev3q"></p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-credentials-secret-for-oadp-operator-to-use">Create Credentials Secret For OADP Operator To Use<a class="hash-link" href="#create-credentials-secret-for-oadp-operator-to-use" title="Direct link to heading">​</a></h2><ol><li><p>Putty into the LinuxToolVM (Eg LinuxToolVM1, LinuxToolVM2 etc)</p></li><li><p>Modify the credentials-velero &amp; replace the following:</p><ul><li>aws_access_key_id with Nutanix Objects Access Key</li><li>aws_secret_access_key with Nutanix Objects Secret Access Key</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> ./credentials-velero</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">[default]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">aws_access_key_id=my_access_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">aws_secret_access_key=my_secret_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Run this command to create the secret</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">oc create secret generic cloud-credentials -n openshift-adp --from-file </span><span class="token assign-left variable" style="color:#36acaa">cloud</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">credentials-velero</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="data:image/png;base64,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" width="958" height="73" class="img_ev3q"></p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-nutanix-csi-snapshot-class">Create Nutanix CSI Snapshot Class<a class="hash-link" href="#create-nutanix-csi-snapshot-class" title="Direct link to heading">​</a></h2><ol><li><p>Putty into the LinuxToolVM (Eg LinuxToolVM1, LinuxToolVM2 etc)</p></li><li><p>Run this command to create the yaml file</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> ./csi-snapshot-class.yaml</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: snapshot.storage.k8s.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: VolumeSnapshotClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">name: nutanix-snapshot-class</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">velero.io/csi-volumesnapshot-class: &quot;true&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">driver: csi.nutanix.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">parameters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">storageType: NutanixVolumes</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">csi.storage.k8s.io/snapshotter-secret-name: ntnx-secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">csi.storage.k8s.io/snapshotter-secret-namespace: openshift-cluster-csi-drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">deletionPolicy: Delete</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mat0606/ocp-saurus2/edit/main/docs/ocp_object/ocp_odf.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/ocp-saurus2/ocp_object/ocp_volume_snapshot"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Volume Snapshot in Nutanix</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ocp-saurus2/optional_labs/objects_prep"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Nutanix Objects as Backup Destination</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pre-requisitesrequirements" class="table-of-contents__link toc-highlight">Pre-requisites/Requirements</a></li><li><a href="#installing-openshift-data-foundation-odf-operator" class="table-of-contents__link toc-highlight">Installing OpenShift Data Foundation (ODF) Operator</a><ul><li><a href="#verify-odf-installation" class="table-of-contents__link toc-highlight">Verify ODF installation</a></li></ul></li><li><a href="#install-openshift-api-for-data-protection-oadp-operator" class="table-of-contents__link toc-highlight">Install OpenShift API for Data Protection (OADP) Operator</a></li><li><a href="#create-credentials-secret-for-oadp-operator-to-use" class="table-of-contents__link toc-highlight">Create Credentials Secret For OADP Operator To Use</a></li><li><a href="#create-nutanix-csi-snapshot-class" class="table-of-contents__link toc-highlight">Create Nutanix CSI Snapshot Class</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/ocp-saurus2/assets/js/runtime~main.0592d11b.js"></script>
<script src="/ocp-saurus2/assets/js/main.c60559a0.js"></script>
</body>
</html>